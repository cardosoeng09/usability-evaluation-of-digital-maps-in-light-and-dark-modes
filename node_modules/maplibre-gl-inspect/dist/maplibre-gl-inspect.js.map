{"version":3,"file":"maplibre-gl-inspect.js","sources":["../node_modules/lodash.isequal/index.js","../lib/style-gen.ts","../lib/inspect-button.ts","../lib/render-popup.ts","../lib/colors.ts","../lib/maplibre-gl-inspect.ts"],"sourcesContent":["/**\n * Lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright JS Foundation and other contributors <https://js.foundation/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    asyncTag = '[object AsyncFunction]',\n    boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    nullTag = '[object Null]',\n    objectTag = '[object Object]',\n    promiseTag = '[object Promise]',\n    proxyTag = '[object Proxy]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    symbolTag = '[object Symbol]',\n    undefinedTag = '[object Undefined]',\n    weakMapTag = '[object WeakMap]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\n/** Used to detect host constructors (Safari). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n/** Used to identify `toStringTag` values of typed arrays. */\nvar typedArrayTags = {};\ntypedArrayTags[float32Tag] = typedArrayTags[float64Tag] =\ntypedArrayTags[int8Tag] = typedArrayTags[int16Tag] =\ntypedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =\ntypedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =\ntypedArrayTags[uint32Tag] = true;\ntypedArrayTags[argsTag] = typedArrayTags[arrayTag] =\ntypedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] =\ntypedArrayTags[dataViewTag] = typedArrayTags[dateTag] =\ntypedArrayTags[errorTag] = typedArrayTags[funcTag] =\ntypedArrayTags[mapTag] = typedArrayTags[numberTag] =\ntypedArrayTags[objectTag] = typedArrayTags[regexpTag] =\ntypedArrayTags[setTag] = typedArrayTags[stringTag] =\ntypedArrayTags[weakMapTag] = false;\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Detect free variable `process` from Node.js. */\nvar freeProcess = moduleExports && freeGlobal.process;\n\n/** Used to access faster Node.js helpers. */\nvar nodeUtil = (function() {\n  try {\n    return freeProcess && freeProcess.binding && freeProcess.binding('util');\n  } catch (e) {}\n}());\n\n/* Node.js helper references. */\nvar nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray;\n\n/**\n * A specialized version of `_.filter` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {Array} Returns the new filtered array.\n */\nfunction arrayFilter(array, predicate) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      resIndex = 0,\n      result = [];\n\n  while (++index < length) {\n    var value = array[index];\n    if (predicate(value, index, array)) {\n      result[resIndex++] = value;\n    }\n  }\n  return result;\n}\n\n/**\n * Appends the elements of `values` to `array`.\n *\n * @private\n * @param {Array} array The array to modify.\n * @param {Array} values The values to append.\n * @returns {Array} Returns `array`.\n */\nfunction arrayPush(array, values) {\n  var index = -1,\n      length = values.length,\n      offset = array.length;\n\n  while (++index < length) {\n    array[offset + index] = values[index];\n  }\n  return array;\n}\n\n/**\n * A specialized version of `_.some` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {boolean} Returns `true` if any element passes the predicate check,\n *  else `false`.\n */\nfunction arraySome(array, predicate) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    if (predicate(array[index], index, array)) {\n      return true;\n    }\n  }\n  return false;\n}\n\n/**\n * The base implementation of `_.times` without support for iteratee shorthands\n * or max array length checks.\n *\n * @private\n * @param {number} n The number of times to invoke `iteratee`.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the array of results.\n */\nfunction baseTimes(n, iteratee) {\n  var index = -1,\n      result = Array(n);\n\n  while (++index < n) {\n    result[index] = iteratee(index);\n  }\n  return result;\n}\n\n/**\n * The base implementation of `_.unary` without support for storing metadata.\n *\n * @private\n * @param {Function} func The function to cap arguments for.\n * @returns {Function} Returns the new capped function.\n */\nfunction baseUnary(func) {\n  return function(value) {\n    return func(value);\n  };\n}\n\n/**\n * Checks if a `cache` value for `key` exists.\n *\n * @private\n * @param {Object} cache The cache to query.\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction cacheHas(cache, key) {\n  return cache.has(key);\n}\n\n/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction getValue(object, key) {\n  return object == null ? undefined : object[key];\n}\n\n/**\n * Converts `map` to its key-value pairs.\n *\n * @private\n * @param {Object} map The map to convert.\n * @returns {Array} Returns the key-value pairs.\n */\nfunction mapToArray(map) {\n  var index = -1,\n      result = Array(map.size);\n\n  map.forEach(function(value, key) {\n    result[++index] = [key, value];\n  });\n  return result;\n}\n\n/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\nfunction overArg(func, transform) {\n  return function(arg) {\n    return func(transform(arg));\n  };\n}\n\n/**\n * Converts `set` to an array of its values.\n *\n * @private\n * @param {Object} set The set to convert.\n * @returns {Array} Returns the values.\n */\nfunction setToArray(set) {\n  var index = -1,\n      result = Array(set.size);\n\n  set.forEach(function(value) {\n    result[++index] = value;\n  });\n  return result;\n}\n\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype,\n    funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to detect overreaching core-js shims. */\nvar coreJsData = root['__core-js_shared__'];\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Used to detect methods masquerading as native. */\nvar maskSrcKey = (function() {\n  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n  return uid ? ('Symbol(src)_1.' + uid) : '';\n}());\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/** Built-in value references. */\nvar Buffer = moduleExports ? root.Buffer : undefined,\n    Symbol = root.Symbol,\n    Uint8Array = root.Uint8Array,\n    propertyIsEnumerable = objectProto.propertyIsEnumerable,\n    splice = arrayProto.splice,\n    symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeGetSymbols = Object.getOwnPropertySymbols,\n    nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined,\n    nativeKeys = overArg(Object.keys, Object);\n\n/* Built-in method references that are verified to be native. */\nvar DataView = getNative(root, 'DataView'),\n    Map = getNative(root, 'Map'),\n    Promise = getNative(root, 'Promise'),\n    Set = getNative(root, 'Set'),\n    WeakMap = getNative(root, 'WeakMap'),\n    nativeCreate = getNative(Object, 'create');\n\n/** Used to detect maps, sets, and weakmaps. */\nvar dataViewCtorString = toSource(DataView),\n    mapCtorString = toSource(Map),\n    promiseCtorString = toSource(Promise),\n    setCtorString = toSource(Set),\n    weakMapCtorString = toSource(WeakMap);\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolValueOf = symbolProto ? symbolProto.valueOf : undefined;\n\n/**\n * Creates a hash object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Hash(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the hash.\n *\n * @private\n * @name clear\n * @memberOf Hash\n */\nfunction hashClear() {\n  this.__data__ = nativeCreate ? nativeCreate(null) : {};\n  this.size = 0;\n}\n\n/**\n * Removes `key` and its value from the hash.\n *\n * @private\n * @name delete\n * @memberOf Hash\n * @param {Object} hash The hash to modify.\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction hashDelete(key) {\n  var result = this.has(key) && delete this.__data__[key];\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\n/**\n * Gets the hash value for `key`.\n *\n * @private\n * @name get\n * @memberOf Hash\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction hashGet(key) {\n  var data = this.__data__;\n  if (nativeCreate) {\n    var result = data[key];\n    return result === HASH_UNDEFINED ? undefined : result;\n  }\n  return hasOwnProperty.call(data, key) ? data[key] : undefined;\n}\n\n/**\n * Checks if a hash value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Hash\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction hashHas(key) {\n  var data = this.__data__;\n  return nativeCreate ? (data[key] !== undefined) : hasOwnProperty.call(data, key);\n}\n\n/**\n * Sets the hash `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Hash\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the hash instance.\n */\nfunction hashSet(key, value) {\n  var data = this.__data__;\n  this.size += this.has(key) ? 0 : 1;\n  data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;\n  return this;\n}\n\n// Add methods to `Hash`.\nHash.prototype.clear = hashClear;\nHash.prototype['delete'] = hashDelete;\nHash.prototype.get = hashGet;\nHash.prototype.has = hashHas;\nHash.prototype.set = hashSet;\n\n/**\n * Creates an list cache object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction ListCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the list cache.\n *\n * @private\n * @name clear\n * @memberOf ListCache\n */\nfunction listCacheClear() {\n  this.__data__ = [];\n  this.size = 0;\n}\n\n/**\n * Removes `key` and its value from the list cache.\n *\n * @private\n * @name delete\n * @memberOf ListCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction listCacheDelete(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    return false;\n  }\n  var lastIndex = data.length - 1;\n  if (index == lastIndex) {\n    data.pop();\n  } else {\n    splice.call(data, index, 1);\n  }\n  --this.size;\n  return true;\n}\n\n/**\n * Gets the list cache value for `key`.\n *\n * @private\n * @name get\n * @memberOf ListCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction listCacheGet(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  return index < 0 ? undefined : data[index][1];\n}\n\n/**\n * Checks if a list cache value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf ListCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction listCacheHas(key) {\n  return assocIndexOf(this.__data__, key) > -1;\n}\n\n/**\n * Sets the list cache `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf ListCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the list cache instance.\n */\nfunction listCacheSet(key, value) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    ++this.size;\n    data.push([key, value]);\n  } else {\n    data[index][1] = value;\n  }\n  return this;\n}\n\n// Add methods to `ListCache`.\nListCache.prototype.clear = listCacheClear;\nListCache.prototype['delete'] = listCacheDelete;\nListCache.prototype.get = listCacheGet;\nListCache.prototype.has = listCacheHas;\nListCache.prototype.set = listCacheSet;\n\n/**\n * Creates a map cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction MapCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the map.\n *\n * @private\n * @name clear\n * @memberOf MapCache\n */\nfunction mapCacheClear() {\n  this.size = 0;\n  this.__data__ = {\n    'hash': new Hash,\n    'map': new (Map || ListCache),\n    'string': new Hash\n  };\n}\n\n/**\n * Removes `key` and its value from the map.\n *\n * @private\n * @name delete\n * @memberOf MapCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction mapCacheDelete(key) {\n  var result = getMapData(this, key)['delete'](key);\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\n/**\n * Gets the map value for `key`.\n *\n * @private\n * @name get\n * @memberOf MapCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction mapCacheGet(key) {\n  return getMapData(this, key).get(key);\n}\n\n/**\n * Checks if a map value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf MapCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction mapCacheHas(key) {\n  return getMapData(this, key).has(key);\n}\n\n/**\n * Sets the map `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf MapCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the map cache instance.\n */\nfunction mapCacheSet(key, value) {\n  var data = getMapData(this, key),\n      size = data.size;\n\n  data.set(key, value);\n  this.size += data.size == size ? 0 : 1;\n  return this;\n}\n\n// Add methods to `MapCache`.\nMapCache.prototype.clear = mapCacheClear;\nMapCache.prototype['delete'] = mapCacheDelete;\nMapCache.prototype.get = mapCacheGet;\nMapCache.prototype.has = mapCacheHas;\nMapCache.prototype.set = mapCacheSet;\n\n/**\n *\n * Creates an array cache object to store unique values.\n *\n * @private\n * @constructor\n * @param {Array} [values] The values to cache.\n */\nfunction SetCache(values) {\n  var index = -1,\n      length = values == null ? 0 : values.length;\n\n  this.__data__ = new MapCache;\n  while (++index < length) {\n    this.add(values[index]);\n  }\n}\n\n/**\n * Adds `value` to the array cache.\n *\n * @private\n * @name add\n * @memberOf SetCache\n * @alias push\n * @param {*} value The value to cache.\n * @returns {Object} Returns the cache instance.\n */\nfunction setCacheAdd(value) {\n  this.__data__.set(value, HASH_UNDEFINED);\n  return this;\n}\n\n/**\n * Checks if `value` is in the array cache.\n *\n * @private\n * @name has\n * @memberOf SetCache\n * @param {*} value The value to search for.\n * @returns {number} Returns `true` if `value` is found, else `false`.\n */\nfunction setCacheHas(value) {\n  return this.__data__.has(value);\n}\n\n// Add methods to `SetCache`.\nSetCache.prototype.add = SetCache.prototype.push = setCacheAdd;\nSetCache.prototype.has = setCacheHas;\n\n/**\n * Creates a stack cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Stack(entries) {\n  var data = this.__data__ = new ListCache(entries);\n  this.size = data.size;\n}\n\n/**\n * Removes all key-value entries from the stack.\n *\n * @private\n * @name clear\n * @memberOf Stack\n */\nfunction stackClear() {\n  this.__data__ = new ListCache;\n  this.size = 0;\n}\n\n/**\n * Removes `key` and its value from the stack.\n *\n * @private\n * @name delete\n * @memberOf Stack\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction stackDelete(key) {\n  var data = this.__data__,\n      result = data['delete'](key);\n\n  this.size = data.size;\n  return result;\n}\n\n/**\n * Gets the stack value for `key`.\n *\n * @private\n * @name get\n * @memberOf Stack\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction stackGet(key) {\n  return this.__data__.get(key);\n}\n\n/**\n * Checks if a stack value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Stack\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction stackHas(key) {\n  return this.__data__.has(key);\n}\n\n/**\n * Sets the stack `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Stack\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the stack cache instance.\n */\nfunction stackSet(key, value) {\n  var data = this.__data__;\n  if (data instanceof ListCache) {\n    var pairs = data.__data__;\n    if (!Map || (pairs.length < LARGE_ARRAY_SIZE - 1)) {\n      pairs.push([key, value]);\n      this.size = ++data.size;\n      return this;\n    }\n    data = this.__data__ = new MapCache(pairs);\n  }\n  data.set(key, value);\n  this.size = data.size;\n  return this;\n}\n\n// Add methods to `Stack`.\nStack.prototype.clear = stackClear;\nStack.prototype['delete'] = stackDelete;\nStack.prototype.get = stackGet;\nStack.prototype.has = stackHas;\nStack.prototype.set = stackSet;\n\n/**\n * Creates an array of the enumerable property names of the array-like `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @param {boolean} inherited Specify returning inherited property names.\n * @returns {Array} Returns the array of property names.\n */\nfunction arrayLikeKeys(value, inherited) {\n  var isArr = isArray(value),\n      isArg = !isArr && isArguments(value),\n      isBuff = !isArr && !isArg && isBuffer(value),\n      isType = !isArr && !isArg && !isBuff && isTypedArray(value),\n      skipIndexes = isArr || isArg || isBuff || isType,\n      result = skipIndexes ? baseTimes(value.length, String) : [],\n      length = result.length;\n\n  for (var key in value) {\n    if ((inherited || hasOwnProperty.call(value, key)) &&\n        !(skipIndexes && (\n           // Safari 9 has enumerable `arguments.length` in strict mode.\n           key == 'length' ||\n           // Node.js 0.10 has enumerable non-index properties on buffers.\n           (isBuff && (key == 'offset' || key == 'parent')) ||\n           // PhantomJS 2 has enumerable non-index properties on typed arrays.\n           (isType && (key == 'buffer' || key == 'byteLength' || key == 'byteOffset')) ||\n           // Skip index properties.\n           isIndex(key, length)\n        ))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\n/**\n * Gets the index at which the `key` is found in `array` of key-value pairs.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} key The key to search for.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction assocIndexOf(array, key) {\n  var length = array.length;\n  while (length--) {\n    if (eq(array[length][0], key)) {\n      return length;\n    }\n  }\n  return -1;\n}\n\n/**\n * The base implementation of `getAllKeys` and `getAllKeysIn` which uses\n * `keysFunc` and `symbolsFunc` to get the enumerable property names and\n * symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @param {Function} symbolsFunc The function to get the symbols of `object`.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction baseGetAllKeys(object, keysFunc, symbolsFunc) {\n  var result = keysFunc(object);\n  return isArray(object) ? result : arrayPush(result, symbolsFunc(object));\n}\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\n/**\n * The base implementation of `_.isArguments`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n */\nfunction baseIsArguments(value) {\n  return isObjectLike(value) && baseGetTag(value) == argsTag;\n}\n\n/**\n * The base implementation of `_.isEqual` which supports partial comparisons\n * and tracks traversed objects.\n *\n * @private\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @param {boolean} bitmask The bitmask flags.\n *  1 - Unordered comparison\n *  2 - Partial comparison\n * @param {Function} [customizer] The function to customize comparisons.\n * @param {Object} [stack] Tracks traversed `value` and `other` objects.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n */\nfunction baseIsEqual(value, other, bitmask, customizer, stack) {\n  if (value === other) {\n    return true;\n  }\n  if (value == null || other == null || (!isObjectLike(value) && !isObjectLike(other))) {\n    return value !== value && other !== other;\n  }\n  return baseIsEqualDeep(value, other, bitmask, customizer, baseIsEqual, stack);\n}\n\n/**\n * A specialized version of `baseIsEqual` for arrays and objects which performs\n * deep comparisons and tracks traversed objects enabling objects with circular\n * references to be compared.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} [stack] Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction baseIsEqualDeep(object, other, bitmask, customizer, equalFunc, stack) {\n  var objIsArr = isArray(object),\n      othIsArr = isArray(other),\n      objTag = objIsArr ? arrayTag : getTag(object),\n      othTag = othIsArr ? arrayTag : getTag(other);\n\n  objTag = objTag == argsTag ? objectTag : objTag;\n  othTag = othTag == argsTag ? objectTag : othTag;\n\n  var objIsObj = objTag == objectTag,\n      othIsObj = othTag == objectTag,\n      isSameTag = objTag == othTag;\n\n  if (isSameTag && isBuffer(object)) {\n    if (!isBuffer(other)) {\n      return false;\n    }\n    objIsArr = true;\n    objIsObj = false;\n  }\n  if (isSameTag && !objIsObj) {\n    stack || (stack = new Stack);\n    return (objIsArr || isTypedArray(object))\n      ? equalArrays(object, other, bitmask, customizer, equalFunc, stack)\n      : equalByTag(object, other, objTag, bitmask, customizer, equalFunc, stack);\n  }\n  if (!(bitmask & COMPARE_PARTIAL_FLAG)) {\n    var objIsWrapped = objIsObj && hasOwnProperty.call(object, '__wrapped__'),\n        othIsWrapped = othIsObj && hasOwnProperty.call(other, '__wrapped__');\n\n    if (objIsWrapped || othIsWrapped) {\n      var objUnwrapped = objIsWrapped ? object.value() : object,\n          othUnwrapped = othIsWrapped ? other.value() : other;\n\n      stack || (stack = new Stack);\n      return equalFunc(objUnwrapped, othUnwrapped, bitmask, customizer, stack);\n    }\n  }\n  if (!isSameTag) {\n    return false;\n  }\n  stack || (stack = new Stack);\n  return equalObjects(object, other, bitmask, customizer, equalFunc, stack);\n}\n\n/**\n * The base implementation of `_.isNative` without bad shim checks.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function,\n *  else `false`.\n */\nfunction baseIsNative(value) {\n  if (!isObject(value) || isMasked(value)) {\n    return false;\n  }\n  var pattern = isFunction(value) ? reIsNative : reIsHostCtor;\n  return pattern.test(toSource(value));\n}\n\n/**\n * The base implementation of `_.isTypedArray` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n */\nfunction baseIsTypedArray(value) {\n  return isObjectLike(value) &&\n    isLength(value.length) && !!typedArrayTags[baseGetTag(value)];\n}\n\n/**\n * The base implementation of `_.keys` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeys(object) {\n  if (!isPrototype(object)) {\n    return nativeKeys(object);\n  }\n  var result = [];\n  for (var key in Object(object)) {\n    if (hasOwnProperty.call(object, key) && key != 'constructor') {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\n/**\n * A specialized version of `baseIsEqualDeep` for arrays with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Array} array The array to compare.\n * @param {Array} other The other array to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `array` and `other` objects.\n * @returns {boolean} Returns `true` if the arrays are equivalent, else `false`.\n */\nfunction equalArrays(array, other, bitmask, customizer, equalFunc, stack) {\n  var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n      arrLength = array.length,\n      othLength = other.length;\n\n  if (arrLength != othLength && !(isPartial && othLength > arrLength)) {\n    return false;\n  }\n  // Assume cyclic values are equal.\n  var stacked = stack.get(array);\n  if (stacked && stack.get(other)) {\n    return stacked == other;\n  }\n  var index = -1,\n      result = true,\n      seen = (bitmask & COMPARE_UNORDERED_FLAG) ? new SetCache : undefined;\n\n  stack.set(array, other);\n  stack.set(other, array);\n\n  // Ignore non-index properties.\n  while (++index < arrLength) {\n    var arrValue = array[index],\n        othValue = other[index];\n\n    if (customizer) {\n      var compared = isPartial\n        ? customizer(othValue, arrValue, index, other, array, stack)\n        : customizer(arrValue, othValue, index, array, other, stack);\n    }\n    if (compared !== undefined) {\n      if (compared) {\n        continue;\n      }\n      result = false;\n      break;\n    }\n    // Recursively compare arrays (susceptible to call stack limits).\n    if (seen) {\n      if (!arraySome(other, function(othValue, othIndex) {\n            if (!cacheHas(seen, othIndex) &&\n                (arrValue === othValue || equalFunc(arrValue, othValue, bitmask, customizer, stack))) {\n              return seen.push(othIndex);\n            }\n          })) {\n        result = false;\n        break;\n      }\n    } else if (!(\n          arrValue === othValue ||\n            equalFunc(arrValue, othValue, bitmask, customizer, stack)\n        )) {\n      result = false;\n      break;\n    }\n  }\n  stack['delete'](array);\n  stack['delete'](other);\n  return result;\n}\n\n/**\n * A specialized version of `baseIsEqualDeep` for comparing objects of\n * the same `toStringTag`.\n *\n * **Note:** This function only supports comparing values with tags of\n * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {string} tag The `toStringTag` of the objects to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalByTag(object, other, tag, bitmask, customizer, equalFunc, stack) {\n  switch (tag) {\n    case dataViewTag:\n      if ((object.byteLength != other.byteLength) ||\n          (object.byteOffset != other.byteOffset)) {\n        return false;\n      }\n      object = object.buffer;\n      other = other.buffer;\n\n    case arrayBufferTag:\n      if ((object.byteLength != other.byteLength) ||\n          !equalFunc(new Uint8Array(object), new Uint8Array(other))) {\n        return false;\n      }\n      return true;\n\n    case boolTag:\n    case dateTag:\n    case numberTag:\n      // Coerce booleans to `1` or `0` and dates to milliseconds.\n      // Invalid dates are coerced to `NaN`.\n      return eq(+object, +other);\n\n    case errorTag:\n      return object.name == other.name && object.message == other.message;\n\n    case regexpTag:\n    case stringTag:\n      // Coerce regexes to strings and treat strings, primitives and objects,\n      // as equal. See http://www.ecma-international.org/ecma-262/7.0/#sec-regexp.prototype.tostring\n      // for more details.\n      return object == (other + '');\n\n    case mapTag:\n      var convert = mapToArray;\n\n    case setTag:\n      var isPartial = bitmask & COMPARE_PARTIAL_FLAG;\n      convert || (convert = setToArray);\n\n      if (object.size != other.size && !isPartial) {\n        return false;\n      }\n      // Assume cyclic values are equal.\n      var stacked = stack.get(object);\n      if (stacked) {\n        return stacked == other;\n      }\n      bitmask |= COMPARE_UNORDERED_FLAG;\n\n      // Recursively compare objects (susceptible to call stack limits).\n      stack.set(object, other);\n      var result = equalArrays(convert(object), convert(other), bitmask, customizer, equalFunc, stack);\n      stack['delete'](object);\n      return result;\n\n    case symbolTag:\n      if (symbolValueOf) {\n        return symbolValueOf.call(object) == symbolValueOf.call(other);\n      }\n  }\n  return false;\n}\n\n/**\n * A specialized version of `baseIsEqualDeep` for objects with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalObjects(object, other, bitmask, customizer, equalFunc, stack) {\n  var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n      objProps = getAllKeys(object),\n      objLength = objProps.length,\n      othProps = getAllKeys(other),\n      othLength = othProps.length;\n\n  if (objLength != othLength && !isPartial) {\n    return false;\n  }\n  var index = objLength;\n  while (index--) {\n    var key = objProps[index];\n    if (!(isPartial ? key in other : hasOwnProperty.call(other, key))) {\n      return false;\n    }\n  }\n  // Assume cyclic values are equal.\n  var stacked = stack.get(object);\n  if (stacked && stack.get(other)) {\n    return stacked == other;\n  }\n  var result = true;\n  stack.set(object, other);\n  stack.set(other, object);\n\n  var skipCtor = isPartial;\n  while (++index < objLength) {\n    key = objProps[index];\n    var objValue = object[key],\n        othValue = other[key];\n\n    if (customizer) {\n      var compared = isPartial\n        ? customizer(othValue, objValue, key, other, object, stack)\n        : customizer(objValue, othValue, key, object, other, stack);\n    }\n    // Recursively compare objects (susceptible to call stack limits).\n    if (!(compared === undefined\n          ? (objValue === othValue || equalFunc(objValue, othValue, bitmask, customizer, stack))\n          : compared\n        )) {\n      result = false;\n      break;\n    }\n    skipCtor || (skipCtor = key == 'constructor');\n  }\n  if (result && !skipCtor) {\n    var objCtor = object.constructor,\n        othCtor = other.constructor;\n\n    // Non `Object` object instances with different constructors are not equal.\n    if (objCtor != othCtor &&\n        ('constructor' in object && 'constructor' in other) &&\n        !(typeof objCtor == 'function' && objCtor instanceof objCtor &&\n          typeof othCtor == 'function' && othCtor instanceof othCtor)) {\n      result = false;\n    }\n  }\n  stack['delete'](object);\n  stack['delete'](other);\n  return result;\n}\n\n/**\n * Creates an array of own enumerable property names and symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction getAllKeys(object) {\n  return baseGetAllKeys(object, keys, getSymbols);\n}\n\n/**\n * Gets the data for `map`.\n *\n * @private\n * @param {Object} map The map to query.\n * @param {string} key The reference key.\n * @returns {*} Returns the map data.\n */\nfunction getMapData(map, key) {\n  var data = map.__data__;\n  return isKeyable(key)\n    ? data[typeof key == 'string' ? 'string' : 'hash']\n    : data.map;\n}\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = getValue(object, key);\n  return baseIsNative(value) ? value : undefined;\n}\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\n/**\n * Creates an array of the own enumerable symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of symbols.\n */\nvar getSymbols = !nativeGetSymbols ? stubArray : function(object) {\n  if (object == null) {\n    return [];\n  }\n  object = Object(object);\n  return arrayFilter(nativeGetSymbols(object), function(symbol) {\n    return propertyIsEnumerable.call(object, symbol);\n  });\n};\n\n/**\n * Gets the `toStringTag` of `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nvar getTag = baseGetTag;\n\n// Fallback for data views, maps, sets, and weak maps in IE 11 and promises in Node.js < 6.\nif ((DataView && getTag(new DataView(new ArrayBuffer(1))) != dataViewTag) ||\n    (Map && getTag(new Map) != mapTag) ||\n    (Promise && getTag(Promise.resolve()) != promiseTag) ||\n    (Set && getTag(new Set) != setTag) ||\n    (WeakMap && getTag(new WeakMap) != weakMapTag)) {\n  getTag = function(value) {\n    var result = baseGetTag(value),\n        Ctor = result == objectTag ? value.constructor : undefined,\n        ctorString = Ctor ? toSource(Ctor) : '';\n\n    if (ctorString) {\n      switch (ctorString) {\n        case dataViewCtorString: return dataViewTag;\n        case mapCtorString: return mapTag;\n        case promiseCtorString: return promiseTag;\n        case setCtorString: return setTag;\n        case weakMapCtorString: return weakMapTag;\n      }\n    }\n    return result;\n  };\n}\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  length = length == null ? MAX_SAFE_INTEGER : length;\n  return !!length &&\n    (typeof value == 'number' || reIsUint.test(value)) &&\n    (value > -1 && value % 1 == 0 && value < length);\n}\n\n/**\n * Checks if `value` is suitable for use as unique object key.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n */\nfunction isKeyable(value) {\n  var type = typeof value;\n  return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n    ? (value !== '__proto__')\n    : (value === null);\n}\n\n/**\n * Checks if `func` has its source masked.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n */\nfunction isMasked(func) {\n  return !!maskSrcKey && (maskSrcKey in func);\n}\n\n/**\n * Checks if `value` is likely a prototype object.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n */\nfunction isPrototype(value) {\n  var Ctor = value && value.constructor,\n      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\n  return value === proto;\n}\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\n/**\n * Converts `func` to its source code.\n *\n * @private\n * @param {Function} func The function to convert.\n * @returns {string} Returns the source code.\n */\nfunction toSource(func) {\n  if (func != null) {\n    try {\n      return funcToString.call(func);\n    } catch (e) {}\n    try {\n      return (func + '');\n    } catch (e) {}\n  }\n  return '';\n}\n\n/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nvar isArguments = baseIsArguments(function() { return arguments; }()) ? baseIsArguments : function(value) {\n  return isObjectLike(value) && hasOwnProperty.call(value, 'callee') &&\n    !propertyIsEnumerable.call(value, 'callee');\n};\n\n/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\n\n/**\n * Checks if `value` is a buffer.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.\n * @example\n *\n * _.isBuffer(new Buffer(2));\n * // => true\n *\n * _.isBuffer(new Uint8Array(2));\n * // => false\n */\nvar isBuffer = nativeIsBuffer || stubFalse;\n\n/**\n * Performs a deep comparison between two values to determine if they are\n * equivalent.\n *\n * **Note:** This method supports comparing arrays, array buffers, booleans,\n * date objects, error objects, maps, numbers, `Object` objects, regexes,\n * sets, strings, symbols, and typed arrays. `Object` objects are compared\n * by their own, not inherited, enumerable properties. Functions and DOM\n * nodes are compared by strict equality, i.e. `===`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.isEqual(object, other);\n * // => true\n *\n * object === other;\n * // => false\n */\nfunction isEqual(value, other) {\n  return baseIsEqual(value, other);\n}\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  if (!isObject(value)) {\n    return false;\n  }\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 9 which returns 'object' for typed arrays and other constructors.\n  var tag = baseGetTag(value);\n  return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\n}\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\n/**\n * Checks if `value` is classified as a typed array.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n * @example\n *\n * _.isTypedArray(new Uint8Array);\n * // => true\n *\n * _.isTypedArray([]);\n * // => false\n */\nvar isTypedArray = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;\n\n/**\n * Creates an array of the own enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects. See the\n * [ES spec](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * for more details.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keys(new Foo);\n * // => ['a', 'b'] (iteration order is not guaranteed)\n *\n * _.keys('hi');\n * // => ['0', '1']\n */\nfunction keys(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object) : baseKeys(object);\n}\n\n/**\n * This method returns a new empty array.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {Array} Returns the new empty array.\n * @example\n *\n * var arrays = _.times(2, _.stubArray);\n *\n * console.log(arrays);\n * // => [[], []]\n *\n * console.log(arrays[0] === arrays[1]);\n * // => false\n */\nfunction stubArray() {\n  return [];\n}\n\n/**\n * This method returns `false`.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {boolean} Returns `false`.\n * @example\n *\n * _.times(2, _.stubFalse);\n * // => [false, false]\n */\nfunction stubFalse() {\n  return false;\n}\n\nmodule.exports = isEqual;\n","import type {\n  SourceSpecification,\n  LayerSpecification,\n  StyleSpecification,\n  CircleLayerSpecification,\n  FillLayerSpecification,\n  LineLayerSpecification,\n  BackgroundLayerSpecification,\n} from 'maplibre-gl';\nimport type { Options } from '../types/maplibre-gl-inspect';\n\nconst circleLayer = (\n  color: string,\n  source: string,\n  vectorLayer?: string | undefined,\n) => {\n  const layer: CircleLayerSpecification = {\n    id: [source, vectorLayer, 'circle'].join('_'),\n    source,\n    type: 'circle',\n    paint: {\n      'circle-color': color,\n      'circle-radius': 2,\n    },\n    filter: ['==', '$type', 'Point'],\n  };\n  if (vectorLayer) {\n    layer['source-layer'] = vectorLayer;\n  }\n  return layer;\n};\nconst polygonLayer = (\n  color: string,\n  outlineColor: string,\n  source: string,\n  vectorLayer?: string | undefined,\n) => {\n  const layer: FillLayerSpecification = {\n    id: [source, vectorLayer, 'polygon'].join('_'),\n    source,\n    type: 'fill',\n    paint: {\n      'fill-antialias': true,\n      'fill-color': color,\n      'fill-outline-color': outlineColor,\n    },\n    filter: ['==', '$type', 'Polygon'],\n  };\n  if (vectorLayer) {\n    layer['source-layer'] = vectorLayer;\n  }\n  return layer;\n};\nconst lineLayer = (\n  color: string,\n  source: string,\n  vectorLayer?: string | undefined,\n) => {\n  const layer: LineLayerSpecification = {\n    id: [source, vectorLayer, 'line'].join('_'),\n    source,\n    layout: {\n      'line-join': 'round',\n      'line-cap': 'round',\n    },\n    type: 'line',\n    paint: {\n      'line-color': color,\n    },\n    filter: ['==', '$type', 'LineString'],\n  };\n  if (vectorLayer) {\n    layer['source-layer'] = vectorLayer;\n  }\n  return layer;\n};\n\nconst generateColoredLayers = (\n  sources: Options['sources'],\n  assignLayerColor: Options['assignLayerColor'],\n): (\n  | FillLayerSpecification\n  | LineLayerSpecification\n  | CircleLayerSpecification\n)[] => {\n  const polyLayers: FillLayerSpecification[] = [];\n  const circleLayers: CircleLayerSpecification[] = [];\n  const lineLayers: LineLayerSpecification[] = [];\n\n  const alphaColors = (layerId: string) => {\n    const color = assignLayerColor.bind(null, layerId);\n    const obj = {\n      circle: color(0.8),\n      line: color(0.6),\n      polygon: color(0.3),\n      polygonOutline: color(0.6),\n      default: color(1),\n    };\n    return obj;\n  };\n\n  Object.keys(sources).forEach((sourceId) => {\n    const layers = sources[`${sourceId}`] as string[];\n\n    if (!layers || layers.length === 0) {\n      const colors = alphaColors(sourceId);\n      circleLayers.push(circleLayer(colors.circle, sourceId));\n      lineLayers.push(lineLayer(colors.line, sourceId));\n      polyLayers.push(\n        polygonLayer(colors.polygon, colors.polygonOutline, sourceId),\n      );\n    } else {\n      layers.forEach((layer: string) => {\n        const colors = alphaColors(layer);\n\n        circleLayers.push(circleLayer(colors.circle, sourceId, layer));\n        lineLayers.push(lineLayer(colors.line, sourceId, layer));\n        polyLayers.push(\n          polygonLayer(colors.polygon, colors.polygonOutline, sourceId, layer),\n        );\n      });\n    }\n  });\n\n  return [...polyLayers, ...lineLayers, ...circleLayers];\n};\n\nconst generateInspectStyle = (\n  originalMapStyle: StyleSpecification,\n  coloredLayers: LayerSpecification[],\n  opts: any,\n): StyleSpecification => {\n  opts = Object.assign(\n    {\n      backgroundColor: '#fff',\n    },\n    opts,\n  );\n\n  const backgroundLayer: BackgroundLayerSpecification = {\n    id: 'background',\n    type: 'background',\n    paint: {\n      'background-color': opts.backgroundColor,\n    },\n  };\n\n  const sources = {} as {\n    [_: string]: SourceSpecification;\n  };\n  Object.keys(originalMapStyle.sources).forEach((sourceId) => {\n    const source = originalMapStyle.sources[`${sourceId}`];\n    if (source.type === 'vector' || source.type === 'geojson') {\n      sources[`${sourceId}`] = source;\n    }\n  });\n\n  return {\n    ...originalMapStyle,\n    layers: [backgroundLayer, ...coloredLayers],\n    sources,\n  };\n};\n\nexport { generateInspectStyle, generateColoredLayers };\n","class InspectButton {\n  private _btn: HTMLButtonElement;\n  public elem: HTMLDivElement;\n\n  constructor(options: any) {\n    options = Object.assign(\n      {\n        show: true,\n        // eslint-disable-next-line @typescript-eslint/no-empty-function\n        onToggle: () => {},\n      },\n      options,\n    );\n\n    this._btn = this.button();\n    this._btn.onclick = options.onToggle;\n    this.elem = this.container(this._btn, options.show);\n  }\n\n  private container(child: Node, show: boolean): HTMLDivElement {\n    const container = document.createElement('div');\n    container.className = 'maplibregl-ctrl maplibregl-ctrl-group';\n    container.appendChild(child);\n    if (!show) {\n      container.style.display = 'none';\n    }\n    return container;\n  }\n\n  private button(): HTMLButtonElement {\n    const btn = document.createElement('button');\n    btn.className = 'maplibregl-ctrl-icon maplibregl-ctrl-inspect';\n    btn.type = 'button';\n    btn.ariaLabel = 'Inspect';\n    return btn;\n  }\n\n  public setInspectIcon(): void {\n    this._btn.className = 'maplibregl-ctrl-icon maplibregl-ctrl-inspect';\n  }\n\n  public setMapIcon(): void {\n    this._btn.className = 'maplibregl-ctrl-icon maplibregl-ctrl-map';\n  }\n}\n\nexport { InspectButton };\n","import {\n  RenderPopupFeature,\n  RenderPopupProperty,\n} from '../types/maplibre-gl-inspect';\n\nconst displayValue = (\n  value: RenderPopupProperty[keyof RenderPopupProperty],\n) => {\n  if (typeof value === 'undefined' || value === null) return value;\n  if (value instanceof Date) return value.toLocaleString();\n  if (\n    typeof value === 'object' ||\n    typeof value === 'number' ||\n    typeof value === 'string'\n  )\n    return value.toString();\n  return value;\n};\n\nconst renderProperty = <\n  T extends RenderPopupProperty[keyof RenderPopupProperty],\n>(\n  propertyName: string,\n  property: T,\n) => {\n  return (\n    `${\n      '<div class=\"maplibregl-inspect-property\">' +\n      '<div class=\"maplibregl-inspect-property-name\">'\n    }${propertyName}</div>` +\n    `<div class=\"maplibregl-inspect-property-value\">${displayValue(\n      property,\n    )}</div>` +\n    '</div>'\n  );\n};\n\nconst renderLayer = (layerId: string) => {\n  return `<div class=\"maplibregl-inspect-layer\">${layerId}</div>`;\n};\n\nconst renderProperties = (feature: RenderPopupFeature) => {\n  const sourceProperty = renderLayer(\n    feature.layer['source-layer'] || feature.layer.source,\n  );\n  const typeProperty = renderProperty<string>('$type', feature.geometry.type);\n  const properties = Object.keys(feature.properties).map((propertyName) =>\n    renderProperty(propertyName, feature.properties[`${propertyName}`]),\n  );\n  return [sourceProperty, typeProperty].concat(properties).join('');\n};\n\nconst renderFeatures = (features: RenderPopupFeature[]) => {\n  return features\n    .map(\n      (ft: RenderPopupFeature) =>\n        `<div class=\"maplibregl-inspect-feature\">${renderProperties(ft)}</div>`,\n    )\n    .join('');\n};\n\nconst renderPopup = (features: RenderPopupFeature[]) => {\n  return `<div class=\"maplibregl-inspect-popup\">${renderFeatures(\n    features,\n  )}</div>`;\n};\n\nexport { renderPopup };\n","import randomColor from 'randomcolor';\n\n/**\n * Assign a color to a unique layer ID and also considering\n * common layer names such as water or wood.\n *\n * @param {string} layerId - Unique layer ID\n * @param {number} alpha - Alpha value for the color\n * @returns {string} Unique random for the layer ID\n */\nconst brightColor = (layerId: string, alpha?: number): string => {\n  let luminosity: 'bright' | 'dark' = 'bright';\n  let hue: string | undefined = undefined;\n\n  if (/water|ocean|lake|sea|river/.test(layerId)) {\n    hue = 'blue';\n  }\n\n  if (/state|country|place/.test(layerId)) {\n    hue = 'pink';\n  }\n\n  if (/road|highway|transport|streets/.test(layerId)) {\n    hue = 'orange';\n  }\n\n  if (/contour|building/.test(layerId)) {\n    hue = 'monochrome';\n  }\n\n  if (/building/.test(layerId)) {\n    luminosity = 'dark';\n  }\n\n  if (/contour|landuse/.test(layerId)) {\n    hue = 'yellow';\n  }\n\n  if (/wood|forest|park|landcover|land/.test(layerId)) {\n    hue = 'green';\n  }\n\n  const rgb = randomColor({\n    luminosity,\n    hue,\n    seed: layerId,\n    format: 'rgbArray',\n  });\n\n  const rgba = `${rgb},${alpha || 1}`;\n  return `rgba(${rgba})`;\n};\n\nexport { brightColor };\n","import maplibregl from 'maplibre-gl';\nimport type {\n  Map,\n  Popup,\n  PointLike,\n  MapMouseEvent,\n  MapSourceDataEvent,\n  StyleSpecification,\n} from 'maplibre-gl';\nimport type { Options, RenderPopupFeature } from '../types/maplibre-gl-inspect';\nimport './maplibre-gl-inspect.css';\nimport isEqual from 'lodash.isequal';\nimport { generateInspectStyle, generateColoredLayers } from './style-gen';\nimport { InspectButton } from './inspect-button';\nimport { renderPopup } from './render-popup';\nimport { brightColor } from './colors';\n\nconst isInspectStyle = (style: StyleSpecification): boolean => {\n  if (\n    style.metadata &&\n    'maplibregl-inspect:inspect' in Object.keys(style.metadata)\n  ) {\n    return true;\n  }\n  return false;\n};\n\nconst markInspectStyle = (style: StyleSpecification): StyleSpecification => {\n  const updatedStyle = {\n    ...style,\n    metadata: Object.assign({}, style.metadata, {\n      'maplibregl-inspect:inspect': true,\n    }),\n  };\n  return updatedStyle;\n};\n\nclass MaplibreInspect {\n  // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n  // @ts-ignore\n  private _map: Map | undefined;\n  private _popup: Popup | null;\n  private _popupBlocked = false;\n  private _showInspectMap: boolean;\n  private _originalStyle: StyleSpecification | null;\n  private _toggle: InspectButton;\n  public options: Options;\n  public sources: Options['sources'];\n  public assignLayerColor: Options['assignLayerColor'];\n\n  constructor(options: Options) {\n    if (!(this instanceof MaplibreInspect)) {\n      throw new Error(\n        'MaplibreInspect needs to be called with the new keyword',\n      );\n    }\n\n    let popup: Popup | null = null;\n    if (maplibregl) {\n      popup = new maplibregl.Popup({\n        closeButton: false,\n        closeOnClick: false,\n      });\n    } else if (!options.popup) {\n      console.error(\n        'Maplibre GL JS can not be found. Make sure to include it or pass an initialized MaplibreGL Popup to MaplibreInspect if you are using moduleis.',\n      );\n    }\n\n    this.options = {\n      ...{\n        showInspectMap: false,\n        showInspectButton: true,\n        showInspectMapPopup: true,\n        showMapPopup: false,\n        showMapPopupOnHover: true,\n        showInspectMapPopupOnHover: true,\n        blockHoverPopupOnClick: false,\n        backgroundColor: '#fff',\n        assignLayerColor: brightColor,\n        buildInspectStyle: generateInspectStyle,\n        renderPopup,\n        popup,\n        selectThreshold: 5,\n        useInspectStyle: true,\n        queryParameters: {},\n        sources: {},\n        toggleCallback(showInspect: boolean) {\n          console.log('Inspector status?: ', showInspect);\n        },\n      },\n      ...options,\n    };\n\n    this.sources = this.options.sources;\n    this.assignLayerColor = this.options.assignLayerColor;\n    this.toggleInspector = this.toggleInspector.bind(this);\n    this._popup = this.options.popup;\n    this._popupBlocked = false;\n    this._showInspectMap = this.options.showInspectMap;\n    this._onSourceChange = this._onSourceChange.bind(this);\n    this._onMouseMove = this._onMouseMove.bind(this);\n    this._onRightClick = this._onRightClick.bind(this);\n    this._onStyleChange = this._onStyleChange.bind(this);\n\n    this._originalStyle = null;\n    this._toggle = new InspectButton({\n      show: this.options.showInspectButton,\n      onToggle: this.toggleInspector.bind(this),\n    });\n  }\n\n  private _inspectStyle(): StyleSpecification {\n    let style = this._map?.getStyle();\n    if (this._map) {\n      const coloredLayers = generateColoredLayers(\n        this.sources,\n        this.assignLayerColor,\n      );\n      style = this.options.buildInspectStyle(\n        this._map.getStyle(),\n        coloredLayers,\n        {\n          backgroundColor: this.options.backgroundColor,\n        },\n      );\n    }\n    return style as StyleSpecification;\n  }\n\n  private _onSourceChange(e: MapSourceDataEvent) {\n    const sources = this.sources;\n    if (this._map) {\n      const map = this._map;\n      const mapStyle = map.getStyle();\n      const mapStyleSourcesNames = Object.keys(mapStyle.sources);\n      const previousSources = Object.assign({}, sources);\n\n      //NOTE: This heavily depends on the internal API of Maplibre GL\n      //so this breaks between Maplibre GL JS releases\n      if (e.isSourceLoaded) {\n        Object.keys(map.style.sourceCaches).forEach((sourceId) => {\n          const sourceCache = map.style.sourceCaches[`${sourceId}`] || {\n            _source: {},\n          };\n          const layerIds = sourceCache._source.vectorLayerIds;\n          if (layerIds) {\n            sources[`${sourceId}`] = layerIds;\n          } else if (sourceCache._source.type === 'geojson') {\n            sources[`${sourceId}`] = [];\n          }\n        });\n        Object.keys(sources).forEach((sourceId) => {\n          if (mapStyleSourcesNames.indexOf(sourceId) === -1) {\n            delete sources[`${sourceId}`];\n          }\n        });\n\n        if (\n          !isEqual(previousSources, sources) &&\n          Object.keys(sources).length > 0\n        ) {\n          this.render();\n        }\n      }\n    }\n  }\n\n  private _onStyleChange() {\n    const style = this._map?.getStyle();\n    if (style && !isInspectStyle(style)) {\n      this._originalStyle = style;\n    }\n  }\n\n  private _onRightClick() {\n    if (\n      !this.options.showMapPopupOnHover &&\n      !this.options.showInspectMapPopupOnHover &&\n      !this.options.blockHoverPopupOnClick\n    ) {\n      if (this._popup) this._popup.remove();\n    }\n  }\n\n  private _onMouseMove(e: MouseEvent | MapMouseEvent) {\n    if (this._showInspectMap) {\n      if (!this.options.showInspectMapPopup) return;\n      if (e.type === 'mousemove' && !this.options.showInspectMapPopupOnHover)\n        return;\n      if (\n        e.type === 'click' &&\n        this.options.showInspectMapPopupOnHover &&\n        this.options.blockHoverPopupOnClick\n      ) {\n        this._popupBlocked = !this._popupBlocked;\n      }\n    } else {\n      if (!this.options.showMapPopup) return;\n      if (e.type === 'mousemove' && !this.options.showMapPopupOnHover) return;\n      if (\n        e.type === 'click' &&\n        this.options.showMapPopupOnHover &&\n        this.options.blockHoverPopupOnClick\n      ) {\n        this._popupBlocked = !this._popupBlocked;\n      }\n    }\n\n    if (!this._popupBlocked && this._map) {\n      let queryBox: PointLike | [PointLike, PointLike];\n      if (this.options.selectThreshold === 0) {\n        queryBox = (e as MapMouseEvent).point;\n      } else {\n        // set a bbox around the pointer\n        queryBox = [\n          [\n            (e as MapMouseEvent).point.x - this.options.selectThreshold,\n            (e as MapMouseEvent).point.y + this.options.selectThreshold,\n          ], // bottom left (SW)\n          [\n            (e as MapMouseEvent).point.x + this.options.selectThreshold,\n            (e as MapMouseEvent).point.y - this.options.selectThreshold,\n          ], // top right (NE)\n        ];\n      }\n      const features =\n        this._map.queryRenderedFeatures(\n          queryBox,\n          this.options.queryParameters,\n        ) || [];\n\n      this._map.getCanvas().style.cursor = features.length ? 'pointer' : '';\n\n      if (features.length > 0 && this._popup instanceof maplibregl.Popup) {\n        this._popup.setLngLat((e as MapMouseEvent).lngLat);\n        const renderedPopup = this.options.renderPopup(\n          features as unknown as RenderPopupFeature[],\n        );\n        if (typeof renderedPopup === 'string') {\n          this._popup.setHTML(renderedPopup);\n        } else {\n          this._popup.setDOMContent(renderedPopup);\n        }\n        this._popup.addTo(this._map);\n      } else {\n        this._popup?.remove();\n      }\n    }\n  }\n\n  public toggleInspector(): void {\n    this._showInspectMap = !this._showInspectMap;\n    this.options.toggleCallback(this._showInspectMap);\n    this.render();\n  }\n\n  public render(): void {\n    if (this._showInspectMap) {\n      if (this.options.useInspectStyle) {\n        const inspectedStyle = this._inspectStyle();\n        this._map?.setStyle(\n          markInspectStyle(inspectedStyle as StyleSpecification),\n        );\n      }\n      this._toggle.setMapIcon();\n    }\n    if (!this._showInspectMap && this._originalStyle) {\n      if (this.options.useInspectStyle) {\n        this._map?.setStyle(this._originalStyle);\n      }\n      if (this._popup) this._popup.remove();\n      this._toggle.setInspectIcon();\n    }\n  }\n\n  public onAdd(map: Map) {\n    this._map = map;\n\n    // if sources have already been passed as options\n    // we do not need to figure out the sources ourselves\n    if (Object.keys(this.sources).length === 0) {\n      // map.on('tiledata', this._onSourceChange);\n      map.on('sourcedata', this._onSourceChange);\n    }\n\n    map.on('styledata', this._onStyleChange);\n    map.on('load', this._onStyleChange);\n    map.on('mousemove', this._onMouseMove);\n    map.on('click', this._onMouseMove);\n    map.on('contextmenu', this._onRightClick);\n    return this._toggle.elem;\n  }\n\n  public onRemove() {\n    this._map?.off('styledata', this._onStyleChange);\n    this._map?.off('load', this._onStyleChange);\n    // this._map?.off('tiledata', this._onSourceChange);\n    this._map?.off('sourcedata', this._onSourceChange);\n    this._map?.off('mousemove', this._onMouseMove);\n    this._map?.off('click', this._onMouseMove);\n    this._map?.off('contextmenu', this._onRightClick);\n\n    const elem = this._toggle.elem;\n    elem.parentNode?.removeChild(elem);\n    this._map = undefined;\n  }\n}\n\nexport { MaplibreInspect };\n"],"names":["LARGE_ARRAY_SIZE","HASH_UNDEFINED","COMPARE_PARTIAL_FLAG","COMPARE_UNORDERED_FLAG","MAX_SAFE_INTEGER","argsTag","arrayTag","asyncTag","boolTag","dateTag","errorTag","funcTag","genTag","mapTag","numberTag","nullTag","objectTag","promiseTag","proxyTag","regexpTag","setTag","stringTag","symbolTag","undefinedTag","weakMapTag","arrayBufferTag","dataViewTag","float32Tag","float64Tag","int8Tag","int16Tag","int32Tag","uint8Tag","uint8ClampedTag","uint16Tag","uint32Tag","reRegExpChar","reIsHostCtor","reIsUint","typedArrayTags","freeGlobal","global","freeSelf","root","freeExports","exports","freeModule","module","moduleExports","freeProcess","nodeUtil","nodeIsTypedArray","arrayFilter","array","predicate","index","length","resIndex","result","value","arrayPush","values","offset","arraySome","baseTimes","n","iteratee","baseUnary","func","cacheHas","cache","key","getValue","object","mapToArray","map","overArg","transform","arg","setToArray","set","arrayProto","funcProto","objectProto","coreJsData","funcToString","hasOwnProperty","maskSrcKey","uid","nativeObjectToString","reIsNative","Buffer","Symbol","Uint8Array","propertyIsEnumerable","splice","symToStringTag","nativeGetSymbols","nativeIsBuffer","nativeKeys","DataView","getNative","Map","Promise","Set","WeakMap","nativeCreate","dataViewCtorString","toSource","mapCtorString","promiseCtorString","setCtorString","weakMapCtorString","symbolProto","symbolValueOf","Hash","entries","entry","hashClear","hashDelete","hashGet","data","hashHas","hashSet","ListCache","listCacheClear","listCacheDelete","assocIndexOf","lastIndex","listCacheGet","listCacheHas","listCacheSet","MapCache","mapCacheClear","mapCacheDelete","getMapData","mapCacheGet","mapCacheHas","mapCacheSet","size","SetCache","setCacheAdd","setCacheHas","Stack","stackClear","stackDelete","stackGet","stackHas","stackSet","pairs","arrayLikeKeys","inherited","isArr","isArray","isArg","isArguments","isBuff","isBuffer","isType","isTypedArray","skipIndexes","isIndex","eq","baseGetAllKeys","keysFunc","symbolsFunc","baseGetTag","getRawTag","objectToString","baseIsArguments","isObjectLike","baseIsEqual","other","bitmask","customizer","stack","baseIsEqualDeep","equalFunc","objIsArr","othIsArr","objTag","getTag","othTag","objIsObj","othIsObj","isSameTag","equalArrays","equalByTag","objIsWrapped","othIsWrapped","objUnwrapped","othUnwrapped","equalObjects","baseIsNative","isObject","isMasked","pattern","isFunction","baseIsTypedArray","isLength","baseKeys","isPrototype","isPartial","arrLength","othLength","stacked","seen","arrValue","othValue","compared","othIndex","tag","convert","objProps","getAllKeys","objLength","othProps","skipCtor","objValue","objCtor","othCtor","keys","getSymbols","isKeyable","isOwn","unmasked","symbol","stubArray","Ctor","ctorString","type","proto","isArrayLike","stubFalse","isEqual","circleLayer","color","source","vectorLayer","layer","polygonLayer","outlineColor","lineLayer","generateColoredLayers","sources","assignLayerColor","polyLayers","circleLayers","lineLayers","alphaColors","layerId","sourceId","layers","colors","generateInspectStyle","originalMapStyle","coloredLayers","opts","backgroundLayer","InspectButton","options","child","show","container","btn","displayValue","renderProperty","propertyName","property","renderLayer","renderProperties","feature","sourceProperty","typeProperty","properties","renderFeatures","features","ft","renderPopup","brightColor","alpha","luminosity","hue","randomColor","isInspectStyle","style","markInspectStyle","MaplibreInspect","popup","maplibregl","showInspect","e","mapStyle","mapStyleSourcesNames","previousSources","sourceCache","layerIds","queryBox","renderedPopup","inspectedStyle","elem"],"mappings":"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","x_google_ignoreList":[0]}